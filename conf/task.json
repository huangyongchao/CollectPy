[
  {
    "taskid": "test3",
    "interval_sec": 10,
    "input": {
      "mysql": {
        "host": "172.16.18.119",
        "port": 3306,
        "user": "yiqifatest",
        "passwd": "yiqifatest",
        "db": "yiqifa_bs"
      },
      "pagesize": "2",
      "tracingid": "id",
      "tracingtime": "update_time",
      "tracingid_val": "-1",
      "tracingtime_val": "2017-01-01",
      "suffix":["1803","1804","1805"],
      "sql": "select * from  cps_effect_confirm_log_{suffix} where  {conditions}"
    },
    "filter": {
      "time_fmt": {
        "fields": ["update_time","create_time","confirm_time","click_time","settlement_time","submit_time","start_date","end_date"],
        "fmt": "%Y-%m-%d %H:%M:%S"
      },
      "camel_case": true
    },
    "outputs": [
      {
        "type": "elasticsearch",
        "nodes": ["221.122.127.201: 9200", "221.122.127.101: 9200","221.122.127.68: 9200"],
        "auth": "elastic,changeme",
        "index": "logstash_order_test1",
        "doctype": "doc",
        "docid": "id"
      },
      {
        "type": "kafka",
        "nodes": [ "221.122.127.54:9092","221.122.127.22:9092","221.122.127.58:9092"],
        "topic": "order_test"
      },
      {
        "type": "redis",
        "nodes": ["221.122.127.103: 14000", "221.122.127.127:14000"],
        "datatype": "string",
        "key": "order:%s%s",
        "keyfields":["order_no","product_no"],
        "expiresec":1600,
        "hkey": "pd:%s",
        "hkeyfields": "pd:%s",
        "valuetype":"json"


      }
    ]
  }
]
